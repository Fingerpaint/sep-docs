\chapter{Test case specifications}
\label{chap:testCaseSpecs}
\renewcommand{\atref}[1]{AT\ref{at:#1}}

This chapter gives a detailed description of all acceptance tests. These tests are strongly based on the use cases as described in Appendix B of the URD \cite{urd}. They cover all the user requirements from the URD \cite{urd}, except for the unimplemented and the untestable requirements.
The requirements that are not implemented in the \applicationname\ are \textbf{\todo{CPR3}, CPR4, CPR5, CPR14, CPR15, CPR16, \todo{CPR25}, CPR26, CPR27, CPR28, CPR38, CPR39 and CPR41}.

The requirement that cannot be tested is \textbf{CPR40}.

Before executing these tests, one should read and follow the guidelines as described in chapter \ref{chap:testProcedures} of this document.

%----------------------------------------------------------------------------------------------------
\section{Choose a geometry and mixer type}
\AT[chooseGeoMixer]{CPR1, CPR2}{\textbf{Test items}: Verify that the user can select a geometry and mixer when starting the application.}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press the \emph{Rectangle 400x240} button after loading the application.
\item Press the \emph{Default} button.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, a second selection row is displayed for the rectangle geometry.
\item After step 2, both the selection rows close and both a menu and a drawing canvas in the shape of a rectangle show up.
\end{itemize}
 
%----------------------------------------------------------------------------------------------------
\section{Define an initial concentration distribution}
\AT[defDist]{CPR6, CPR7, CPR8, CPR9, CPR10}{\textbf{Test items}: Verify that the user can define a concentration distribution by drawing in the drawing area.}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press somewhere in the drawing area.
\item Press \emph{Select Tool} in the menu bar on the right side of the application.
\item Press \emph{circle} in the displayed popup panel.
\item Press somewhere in the drawing area.
\item Press \emph{Select Tool} in the menu bar on the right side of the application.
\item Press the \texttt{+} button of the numberspinner in the displayed popup panel, until the number shown equals 10.
\item Press somewhere in the drawing area.
\item Press \emph{Select Tool} in the menu bar on the right side of the application. 
\item Press \emph{square} in the displayed popup panel.
\item Press the \texttt{-} button of the numberspinner in the displayed popup panel, until the number shown equals 5.
\item Press somewhere outside the popup panel.
\item Press the button which shows a black square on top of a white square in the menu bar on the right side of the application. 
\item Press within the large black circle on the drawing area.
\item Press the button which shows a white square on top of a black square in the menu bar on the right side of the application. 
\item Drag across the drawing area.
\item Press \emph{Reset Distribution} in the menu bar on the right side of the application. 
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, a small black square is displayed within the drawing area.
\item After step 2, a popup panel with a number spinner, a \emph{circle} button and a \emph{square} button is shown.
\item After step 3, the \emph{circle} button in the popup panel appears pressed down.
\item After step 4, a small black circle is displayed within the drawing area.
\item After step 5, a popup panel with a number spinner, a \emph{circle} button and a \emph{square} button is shown.
\item After step 7, a large black circle is displayed within the drawing area.
\item After step 8, a popup panel with a number spinner, a \emph{circle} button and a \emph{square} button is shown.
\item After step 9, the \emph{square} button in the popup panel appears pressed down.
\item After step 11, the popup panel is closed.
\item After step 12, the pressed button now shows a white square on top of a black square.
\item After step 13, a smaller white square is displayed within the large black circle on the drawing area.
\item After step 14, the pressed button now shows a black square on top of a white square.
\item After step 15, a black line following the drag is displayed within the drawing area.
\item After step 16, the drawing area is completely white.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{Save a concentration distribution}
\AT[saveDist]{CPR11}{\textbf{Test items}: Verify that the user can save a concentration distribution.}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Drag across the drawing area to draw a happy smiley face.
\item Press \emph{Save Distribution} in the menu bar on the right side of the application.
\item Enter the text \emph{smiley} within the text area.
\item Press \emph{Save}.
\item Press \emph{Reset Distribution} in the menu bar on the right side of the application. 
\item Drag across the drawing area to draw a sad smiley face.
\item Press \emph{Save Distribution} in the menu bar on the right side of the application.
\item Enter the text \emph{smiley} within the text area.
\item Press \emph{Save}.
\item Press \emph{Cancel}.
\item Enter the text \emph{sadSmiley} within the text area.
\item Press \emph{Save}.
\item Press \emph{Reset Distribution} in the menu bar on the right side of the application.
\item Drag across the drawing area to draw a new happy smiley face.
\item Press \emph{Save Distribution} in the menu bar on the right side of the application.
\item Enter the text \emph{smiley} within the text area.
\item Press \emph{Save}.
\item Press \emph{Overwrite}.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, a happy smiley face is displayed within the drawing area.
\item After step 2, a popup panel with a textfield, a \emph{Save} button and a \emph{Cancel} button is displayed.
\item After step 4, a \emph{Save was successful} message is displayed, which disappears after a few seconds.
\item After step 5, the drawing area is completely white.
\item After step 6, a sad smiley face is displayed withing the drawing area.
\item After step 7, a popup panel with a textfield, a \emph{Save} button and a \emph{Cancel} button is displayed.
\item After step 9, a new popup panel with a message, a \emph{Overwrite} button and a \emph{Cancel} button is displayed.
\item After step 10, the first popup panel is displayed again.
\item After step 12, a \emph{Save was successful} message is displayed, which disappears after a few seconds.
\item After step 13, the drawing area is completely white.
\item After step 14, a happy smiley face is displayed within the drawing area.
\item After step 15, a popup panel with a textfield, a \emph{Save} button and a \emph{Cancel} button is displayed.
\item After step 17, a new popup panel with a message, a \emph{Overwrite} button and a \emph{Cancel} button is displayed.
\item After step 18, a \emph{Save was successful} message is displayed, which disappears after a few seconds.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{Define and execute a single mixing step}
\AT[execSingleStep]{CPR18}{\textbf{Test items}: Verify that the user can define and execute a single mixing step on an initial concentration distribution.}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press the \texttt{+} button of the numberspinner with the \emph{Step size} label in the menu bar on the right side of the application, until the number shown equals 5.
\item Press \emph{Reset Distribution} in the menu bar on the right side of the application. 
\item Drag across the drawing area to draw a large black dot in the middle of the drawing area.
\item Drag the top wall to the right.
\item Press \emph{Reset Distribution} in the menu bar on the right side of the application. 
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 2, the drawing area is completely white.
\item After step 3, a large black dot is displayed withing the drawing area.
\item After step 4, the black dot has moved, and now has a different shape.
\item After step 5, the drawing area is completely white.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{Define and execute a mixing protocol}
\AT[execProt]{CPR17, CPR19, CPR20, CPR21, CPR29, CPR32}{\textbf{Test items}: Verify that the user can define and execute a mixing protocol on an initial concentration distribution.}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press the \texttt{+} button of the numberspinner with the \emph{Step size} label in the menu bar on the right side of the application, until the number shown equals 6.25.
\item Drag across the drawing area to draw a large black dot in the middle of the left half of the drawing area.
\item Press \emph{Define Protocol} in the menu bar on the right side of the application.
\item Drag the top wall to the right.
\item Drag the bottom wall to the right.
\item Press the \texttt{+} button of the spinner for the number of steps in the menu bar on the right side of the application, until the number shown equals 10.
\item Press \emph{Reset Protocol} in the menu bar on the right side of the application.
\item Drag the top wall to the right and the bottom wall to the left.
\item Press the \texttt{+} button of the spinner for the number of steps in the menu bar on the right side of the application, until the number shown equals 10.
\item Press \emph{Mix Now}.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 3, a number spinner and \emph{Mix Now}, \emph{Reset Protocol}, \emph{Save Protocol}, \emph{Load Mixing Protocol} and \emph{Removed Saved Protocol} buttons appear in the menu bar on the right side of the application.
\item After step 4, the text area in the menu bar on the right side of the application shows the text T[6.25].
\item After step 5, the text area in the menu bar on the right side of the application shows the text T[6.25] -B[6.25].
\item After step 7, the text area in the menu bar on the right side of the application has disappeared, and the spinner for the number of steps shows 1.
\item After step 8, the text area in the menu bar on the right side of the application shows the text T[6.25] B[6.25].
\item After step 9, the drawing area shows a black spiral distribution. Also the \emph{View single graph} and \emph{Save results} buttons in the menu bar on the right side of the application are now enabled.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{Export the resulting distribution image of a mixing run}
\AT[expImage]{CPR33}{\textbf{Test items}: Verify that the user can export the resulting distribution of a mixing run to their device.}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press the \emph{Export Image} button.
\item Follow the standard procedure to download a file.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, the browser's download menu appears.
\item After step 2, the image is saved at the chosen location.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{Save a mixing protocol}
\AT[saveProtocol]{CPR22}{\textbf{Test items}: Verify that the user can store the current mixing protocol in local storage}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press the \emph{Save Protocol} button.
\item Type the name \emph{testprotocol} in the textfield of the popup.
\item Press the \emph{Save} button.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, a popup shows up with a textfield, a \emph{Save} button and a \emph{Cancel} button.
\item After step 3, the popup closes and a \emph{Save was successful} message appears.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{View the performance of a mixing run}
\AT[viewPerformance]{CPR34}{\textbf{Test items}: Verify that the user can view the mixing performance of an executed mixing run.}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press the \emph{View single graph} button.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, a popup shows up with a graph. In this graph, the mixing performance is shown on the y-axis, and the corresponding protocol step is shown on the x-axis. In addition, there is a \emph{Close} button and an \emph{Export Graph} button.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{Export the performance graph of a mixing run}
\AT[expGraph]{CPR35}{\textbf{Test items}: Verify that the user can export the performance graph of a mixing run to their device.}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press the \emph{Export Graph} button.
\item Follow the standard procedure to download a file.
\item Press the \emph{Close} button.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, the browser's download menu appears.
\item After step 2, the image is saved at the chosen location.
\item After step 3, the popup showing the performance graph closes.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{Save a mixing run}
\AT[saveRun]{CPR30}{\textbf{Test items}: Verify that the user can save the results of a mixing run.}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press \emph{Save Results} in the menu bar on the right side of the application.
\item Enter the text \emph{spiral} within the text area.
\item Press \emph{Save}.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, a popup panel with a textfield, a \emph{Save} button and a \emph{Cancel} button is displayed.
\item After step 3, a \emph{Save was successful} message is displayed, which disappears after a few seconds.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{Load a previously saved concentration distribution}
\AT[loadDist]{CPR13}{\textbf{Test items}: Verify that the user can load a previously saved concentration distribution in the drawing area.}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press \emph{Load Initial Distribution} in the menu bar on the right side of the application.
\item Press \emph{sadSmiley}.
\item Press \emph{Load Initial Distribution} in the menu bar on the right side of the application.
\item Press \emph{smiley}.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, a popup panel with \emph{sadSmiley}, \emph{smiley} and a \emph{Close} button is displayed.
\item After step 2, the popup panel is closed, and the sad smiley that was drawn at \atref{saveDist} is displayed in the drawing area.
\item After step 3, a popup panel with \emph{sadSmiley}, \emph{smiley} and a \emph{Close} button is displayed.
\item After step 4, the popup panel is closed, and the secondly drawn happy smiley from \atref{saveDist} is displayed in the drawing area.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{Load a previously saved mixing protocol}
\AT[loadProt]{CPR24}{\textbf{Test items}: Verify that the user can load a previously saved mixing protocol.}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press \emph{Reset Protocol} in the menu bar on the right side of the application.
\item Press the \texttt{+} button of the spinner for the number of steps in the menu bar on the right side of the application, until the number shown equals 10.
\item Press \emph{Load Mixing Protocol} in the menu bar on the right side of the application.
\item Press \emph{testprotocol}.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, the text area in the menu bar on the right side of the application has disappeared, and the spinner for the number of steps shows 1.
\item After step 3, a popup panel with \emph{testprotocol} and a \emph{Close} button is displayed.
\item After step 4, the popup panel is closed, and \emph{T[6.25], B[6.25]} is displayed in the text area on the right side of the application.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{View multiple performance results in one graph}
\AT[viewMulGraphs]{CPR36}{\textbf{Test items}: Verify that the user can view multiple performance results from previous mixing runs in one graph.}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press \emph{Mix Now} in the menu bar on the right side of the application.
\item Press \emph{Save Results} in the menu bar on the right side of the application.
\item Enter the text \emph{mixingRun2} within the text area.
\item Press \emph{Save}.
\item Press \emph{Compare Performance} in the menu bar on the right side of the application.
\item Select both \emph{spiral} and \emph{mixingRun2}.
\item Press \emph{Compare}.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, the resulting concentration distribution is displayed in the drawing panel.
\item After step 2, a popup panel with a textfield, a \emph{Save} button and a \emph{Cancel} button is displayed.
\item After step 4, a \emph{Save was successful} message is displayed, which disappears after a few seconds.
\item After step 5, a popup panel with \emph{spiral}, \emph{mixingRun2}, a \emph{Compare} button and a \emph{Cancel} button is displayed.
\item After step 7, there is shown a popup panel with a graph of the performance of both the selected mixing runs, a \emph{New Comparison} button, and \emph{Export graphs} button and a \emph{Cancel} button.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{Export the performance graph of a mixing run}
\AT[expMulGraphs]{CPR37}{\textbf{Test items}: Verify that the user can export the performance graph of multiple mixing runs to their device.}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press the \emph{Export graphs} button.
\item Follow the standard procedure to download a file.
\item Press the \emph{Close} button.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, the browser's download menu appears.
\item After step 2, the image is saved at the chosen location.
\item After step 3, the popup showing the performance graph closes.
\end{itemize}
 
%----------------------------------------------------------------------------------------------------
\section{Remove a mixing run from local storage}
\AT[removeRun]{CPR31}{\textbf{Test items}: Verify that the user can remove a previously stored mixing run from local storage}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press the \emph{Remove Saved Results} button.
\item Press the \texttt{X} button next to the \emph{mixingRun2} name.
\item Press the \emph{Close} button.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, a popup shows up with a table containing the names \emph{spiral} and \emph{mixingRun2}, an \texttt{X} button next to each of them, and a \emph{Close} button under this table.
\item After step 2, a \emph{Delete successful} message is displayed, which disappears after a few seconds. Also, the \emph{mixingRun2} file is removed from the table.
\item After step 3, the popup closes.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{Remove a concentration distribution from local storage}
\AT[removeDist]{CPR12}{\textbf{Test items}: Verify that the user can remove a previously stored concentration distribution from local storage}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press the \emph{Remove Saved Distributions} button.
\item Press the \texttt{X} button next to the \emph{smiley} name.
\item Press the \emph{Close} button.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, a popup shows up with a table containing the names \emph{smiley} and \emph{sadSmiley}, an \texttt{X} button next to each of them, and a \emph{Close} button under this table.
\item After step 2, a \emph{Delete successful} message is displayed, which disappears after a few seconds. Also, the \emph{smiley} file is removed from the table.
\item After step 3, the popup closes.
\end{itemize}

%----------------------------------------------------------------------------------------------------
\section{Remove a mixing protocol from local storage}
\AT[removeProt]{CPR23}{\textbf{Test items}: Verify that the user can remove a previously stored mixing protocol from local storage}

\subsection*{Input specifications}
%Input for this test case
\begin{enumerate}
\item Press the \emph{Remove Saved Protocols} button.
\item Press the \texttt{X} button next to the \emph{testprotocol} name.
\item Press the \emph{Close} button.
\end{enumerate}

\subsection*{Output specifications}
%Output required from this test case
\begin{itemize}
\item After step 1, a popup shows up with a table containing the name \emph{testProtocol}, an \texttt{X} button next to this name, and a \emph{Close} button under this table.
\item After step 2, a \emph{Delete successful} message is displayed, which disappears after a few seconds. Also, the \emph{testprotocol} file is removed from the table.
\item After step 3, the popup closes.
\end{itemize}