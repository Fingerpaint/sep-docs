\chapter{Environment setup}
\label{environment_setup}

The environment of the \applicationname{} consists of a client with a browser and a server on which the application needs to be installed.

What follows is a manual on how to build the \applicationname{}.

\section{Server}
We assume the server runs a Linux operating system. A Windows operating system can also be used, but that is not supported by this manual. The text below is tested on a Debian based system.

\subsection{Tools installation}
\label{sec:building}
First the JDK, the Ant and Make build systems and the gfortran and gcc compilers need to be installed. To get the application from the git repository, git is also required. Installation can be done through the package manager of the operating system. On a Debian based system this is:

\begin{verbatim}
apt-get install openjdk-7-jdk gcc gfortran make ant git
\end{verbatim}

\subsection{Retrieving the application}
\label{sec:retrieving}
To retrieve the application from the git repository, navigate to the folder where you want to place the source.
We denote this folder as \textsc{<app-root>}. Now execute the following command:

\begin{verbatim}
git clone git@github.com:Fingerpaint/project-code.git
\end{verbatim}

The repository is now initialized in \textsc{<app-root>}.

\subsection{Compilation of the application}
\label{sec:compiling}
We assume source code of the application is installed to the \textsc{<app-root>} folder.
Navigate in the console to the \textsc{<app-root>/fingerpaint} folder. 
We need to make sure the \textsc{JAVA\_HOME} environment variable is correctly set. On some machines, this will be the case by default. The variable should be set to the home directory of the JDK that was just installed (we denote this directory as \textsc{<jdk-home>}. If the variable was already set correctly (or you choose to set it manually, not covered by this manual), you can now execute the following command to compile the project:

\begin{verbatim}
ant clean jar
\end{verbatim}

If the environment variable is not set, you can use the following compilation command to temporarily set the variable during compilation:

\begin{verbatim}
ant clean jar -Djava.jdk.home=<jdk-home>
\end{verbatim}

After compilation has completed, a file named \textsc{Fingerpaint.jar} has been created in the \textsc{<app-root>/fingerpaint} folder.

\subsection{Deployment of the application}
\label{sec:deployment}
After compilation, move the \textsc{Fingerpaint.jar} to the folder where you want to deploy the application. We assume this folder is \textsc{<deploy-root>}. Navigate in the console to this folder and execute the following:

\begin{verbatim}
java -jar Fingerpaint.jar
\end{verbatim}

This starts the standalone fingerpaint server listening to port 80 on the system. After pressing \textsc{<enter>} the server is stopped again.

The application can also be deployed in a jetty server. A \textsc{war} file can be created by executing \textsc{ant war} instead of \textsc{ant jar} in the compilation fase. This war can then be deployed in the jetty server. However, this procedure is not explained in this manual.